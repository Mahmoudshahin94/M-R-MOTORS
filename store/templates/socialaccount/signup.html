{% extends 'base.html' %}
{% load static %}

{% block title %}Complete Your Profile - M&R Motors{% endblock %}

{% block content %}
<section class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-primary-black">
    <div class="max-w-md w-full space-y-8">
        <!-- Logo and Header -->
        <div class="text-center">
            <h2 class="text-4xl font-bold text-white mb-2">
                Welcome to <span class="text-accent-red">M&R Motors</span>
            </h2>
            <p class="text-secondary-silver">Complete your profile to continue</p>
        </div>

        <!-- Signup Form -->
        <div class="bg-gray-900 rounded-lg p-8 border border-gray-800">
            <form method="POST" action="{% url 'socialaccount_signup' %}" class="space-y-6">
                {% csrf_token %}
                
                <!-- Display Messages -->
                {% if form.non_field_errors %}
                    <div class="p-4 rounded-lg bg-red-900 border border-red-700 text-red-200">
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}

                {% if form.email %}
                <div>
                    <label for="id_email" class="block text-sm font-medium text-secondary-silver mb-2">
                        Email Address
                    </label>
                    <input 
                        id="id_email" 
                        name="email" 
                        type="email" 
                        value="{{ form.email.value|default:'' }}"
                        {% if form.email.field.required %}required{% endif %}
                        class="w-full px-4 py-3 bg-gray-800 border {% if form.email.errors %}border-red-500{% else %}border-gray-700{% endif %} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-accent-red transition-colors"
                        placeholder="your@email.com"
                    >
                    {% if form.email.errors %}
                        <p class="mt-1 text-sm text-red-400">{{ form.email.errors.0 }}</p>
                    {% endif %}
                </div>
                {% endif %}

                {{ form.as_p }}

                <button 
                    type="submit" 
                    class="w-full bg-accent-red text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors"
                >
                    Complete Sign Up
                </button>
            </form>

            <!-- Back Button -->
            <div class="mt-6 text-center">
                <a 
                    href="{% url 'login' %}" 
                    class="text-accent-red hover:text-red-700 text-sm font-medium inline-flex items-center"
                >
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    Back to Login
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    /* Hide default form styling */
    form p {
        margin-bottom: 1rem;
    }
    form label {
        display: block;
        font-size: 0.875rem;
        font-weight: 500;
        color: #cbd5e1;
        margin-bottom: 0.5rem;
    }
    form input[type="text"],
    form input[type="email"] {
        width: 100%;
        padding: 0.75rem 1rem;
        background-color: #1f2937;
        border: 1px solid #374151;
        border-radius: 0.5rem;
        color: white;
    }
    form input[type="text"]:focus,
    form input[type="email"]:focus {
        outline: none;
        border-color: #dc2626;
    }
    form ul.errorlist {
        list-style: none;
        padding: 0;
        margin: 0.25rem 0 0 0;
        font-size: 0.875rem;
        color: #fca5a5;
    }
</style>
{% endblock %}
